<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="shan"><link rel="alternative" href="/atom.xml" title="shan" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>負載平衡器 - shan</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0"><header class="head"><h1 class="head-title u-fl"><a href="/">shan</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/archives">welcome</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"> <time class="post__time" datetime="2018-08-08T03:01:59.000Z">八月 8, 2018</time><h1 class="post__title"><a href="/2018/08/08/負載平衡器/">負載平衡器</a></h1><div class="post__main echo"><h2 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a><font color="blue">介紹</font></h2><p>負載平衡（Load balancing）是一種電腦技術，用來在多個電腦（電腦集群）、網路連接、CPU、磁碟驅動器或其他資源中分配負載，以達到最佳化資源使用、最大化吞吐率、最小化回應時間、同時避免過載的目的。 使用帶有負載平衡的多個伺服器元件，取代單一的元件，可以通過冗餘提高可靠性。負載平衡服務通常是由專用軟體和硬體來完成。 主要作用是將大量作業合理地分攤到多個操作單元上進行執行,用於解決網際網路架構中的高並行和高可用的問題。<br></p>
<p>假設今天同時啟動了五台機器，不可能讓相同的DNS同時對到五台機器的IP，所以為了讓五台機器可以平均被活用，必須在五台機器前，架設一台Load Balance的機器，來達到分流的效果。<br><img src="/負載平衡/分流設計.png" alt="分流設計圖"></p>
<h2 id="Load-Balance設計"><a href="#Load-Balance設計" class="headerlink" title="Load Balance設計"></a><font color="blue">Load Balance設計</font></h2><p>從上圖可見，多了一台Load Balance機器，來管理後方的五台機器。在LB上有幾個必須做的設定：<br><br>1.設定後端機器的IP，這樣Load Balance才知道要管理那幾台機器。<br><br>2.設定判斷後端機器是否正常。通常有幾種方式來判斷後端的機器是否處於正常服務狀態，例如透過SSH、HTTP(S)等，來判斷後端是否是處於一個正常狀態。在Web開發時，建議使用HTTP(S)方式來判斷，畢竟機器正常（SSH可連入），不代表Server程式也正常（HTTP可連入）。<br><br>3.HTTPS的設定，因為HTTPS不單單是放在後端機器了，所以在Load Balance上，也必需針對HTTPS做設定。<br><br>4.設定分流的基準，可以用CPU或記憶體的用量（usage），來判斷這台後端機器是否是忙錄，決定要不要將使用者導向這台後端機器。<br></p>
</div></header></article><div class="comments" id="lv-container" data-id="city" data-uid="your uid"><script>(function(d, s) {var j, e = d.getElementsByTagName(s)[0];if (typeof LivereTower === 'function') { return; } j = d.createElement(s);j.src = 'https://cdn-city.livere.com/js/embed.dist.js';j.async = true;e.parentNode.insertBefore(j, e);})(document, 'script');</script></div></main><footer class="foot"><div class="foot-copy">&copy; 2016-2018 shan</div></footer><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>